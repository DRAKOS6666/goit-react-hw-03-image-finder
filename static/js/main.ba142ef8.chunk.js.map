{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","service/fetchImages.js","components/ImageGallery/ImageGallery.js","components/ErrorBoundary/ErrorBoundary.js","components/App.js","index.js"],"names":["Searchbar","state","searchText","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","Button","loadMore","onClick","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleCloseClick","currentTarget","addEventListener","removeEventListener","createPortal","children","ImageGalleryItem","item","openModal","id","src","webformatURL","alt","tags","fetchImages","query","page","fetch","then","res","json","ImageGallery","images","isLoading","currentPage","isModal","modalItem","getImages","fetchImage","hits","length","prevState","warn","catch","err","console","log","imgId","result","find","image","prevProps","success","window","scrollTo","top","documentElement","scrollHeight","behavior","map","color","height","width","timeout","largeImageURL","ErrorBoundary","isError","info","App","setQuery","text","ReactDOM","render","StrictMode","newestOnTop","rtl","pauseOnFocusLoss","getElementById"],"mappings":"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","file":"static/js/main.ba142ef8.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: propTypes.func.isRequired,\r\n  };\r\n\r\n  state = { searchText: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ searchText: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.searchText === '') {\r\n      toast.error('Please enter search query!', {\r\n        position: 'top-right',\r\n        autoClose: 4000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchText);\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.searchText}\r\n            onChange={this.handleChange}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nfunction Button({ loadMore }) {\r\n  return (\r\n    <button type=\"button\" onClick={loadMore} className=\"Button\">\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  loadMore: propTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport propTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    closeModal: propTypes.func.isRequired,\r\n    children: propTypes.node.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleCloseClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleCloseClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nfunction ImageGalleryItem({ item, openModal }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        id={item.id}\r\n        onClick={() => openModal(item.id)}\r\n        className=\"ImageGalleryItem-image\"\r\n        src={item.webformatURL}\r\n        alt={item.tags}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  item: propTypes.object.isRequired,\r\n  openModal: propTypes.func.isRequired\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","export default function fetchImages(query, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${12}&key=17903714-8f5ebcdc0900c0123ad2db8f4`,\r\n  ).then(res => res.json());\r\n}\r\n","import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\nimport Loader from 'react-loader-spinner';\r\nimport Button from './Button/Button';\r\nimport Modal from '../Modal/Modal';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport fetchImage from '../../service/fetchImages';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport './ImageGallery.scss';\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    query: propTypes.string.isRequired,\r\n  };\r\n\r\n  state = {\r\n    images: [],\r\n    isLoading: false,\r\n    currentPage: 1,\r\n    isModal: false,\r\n    modalItem: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.query !== '') {\r\n      return this.getImages();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.query !== prevProps.query) {\r\n      this.setState({ images: [], currentPage: 1, isLoading: false }, () =>\r\n        this.getImages(),\r\n      );\r\n    }\r\n    if (\r\n      this.state.currentPage !== prevState.currentPage &&\r\n      this.state.currentPage !== 1\r\n    ) {\r\n      this.getImages();\r\n    }\r\n    if (this.state.images.length > prevState.images.length) {\r\n      toast.success('Success!', {\r\n        position: 'top-right',\r\n        autoClose: 2000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  getImages = () => {\r\n    const query = this.props.query;\r\n    this.setState({ isLoading: true });\r\n    fetchImage(query, this.state.currentPage)\r\n      .then(res => {\r\n        if (res.hits.length > 0) {\r\n          this.setState(prevState => {\r\n            return {\r\n              images: [...prevState.images, ...res.hits],\r\n              isLoading: false,\r\n            };\r\n          });\r\n        } else {\r\n          toast.warn('Nothing found, try another query', {\r\n            position: 'top-right',\r\n            autoClose: 4000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        toast.error('Error, Something went wrong, try again', {\r\n          position: 'top-right',\r\n          autoClose: 4000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  loadMore = () => {\r\n    this.setState(prevState => {\r\n      return { currentPage: prevState.currentPage + 1 };\r\n    });\r\n  };\r\n\r\n  openModal = imgId => {\r\n    const result = this.state.images.find(image => {\r\n      return image.id === imgId;\r\n    });\r\n    this.setState({\r\n      isModal: true,\r\n      modalItem: result,\r\n    });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ isModal: false, modalItem: null });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, isModal, modalItem } = this.state;\r\n    return (\r\n      <>\r\n        {images.length > 0 && (\r\n          <>\r\n            <ul className=\"ImageGallery\">\r\n              {images.map(item => (\r\n                <ImageGalleryItem\r\n                  key={item.id}\r\n                  item={item}\r\n                  openModal={this.openModal}\r\n                />\r\n              ))}\r\n            </ul>\r\n            <div className=\"loadMoreContainer\">\r\n              {isLoading ? (\r\n                <Loader\r\n                  type=\"TailSpin\"\r\n                  color=\"#00BFFF\"\r\n                  height={40}\r\n                  width={40}\r\n                  timeout={4000}\r\n                />\r\n              ) : (\r\n                <Button loadMore={this.loadMore} />\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n        {isModal && (\r\n          <Modal closeModal={this.closeModal}>\r\n            <img src={modalItem.largeImageURL} alt={modalItem.tags} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nclass ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { isError: false };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    this.setState({ isError: true });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isError) {\r\n      return <h1>Something went wrong, please try again later :(</h1>;\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nErrorBoundary.propTypes = {\r\n  children: propTypes.node.isRequired,\r\n};\r\n\r\nexport default ErrorBoundary;\r\n","import React, { Component } from 'react';\r\nimport Searchbar from './Searchbar/Searchbar';\r\nimport ImageGallery from './ImageGallery/ImageGallery';\r\nimport ErrorBoundary from './ErrorBoundary/ErrorBoundary';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  setQuery = text => {\r\n    this.setState({ query: text });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <ErrorBoundary>\r\n        <Searchbar onSubmit={this.setQuery} />\r\n        {query && <ImageGallery query={query} />}\r\n      </ErrorBoundary>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport './index.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App className=\"App\" />\r\n    <ToastContainer\r\n      position=\"bottom-center\"\r\n      autoClose={4000}\r\n      hideProgressBar={false}\r\n      newestOnTop={false}\r\n      closeOnClick\r\n      rtl={false}\r\n      pauseOnFocusLoss\r\n      draggable\r\n      pauseOnHover\r\n    />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}